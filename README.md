# cloud-mall

<p align=center>
  <a href="#">
   <img src="https://gitee.com/youzhengjie/cloud-mall/raw/master/cloud-mall-doc/images/cloud-mall-logo.png" alt="cloud-mall" style="width:200px;height:200px">
  </a>
</p>
<p align=center>
   cloud-mallæ˜¯ä¸€ä¸ªåŸºäºåˆ†å¸ƒå¼ã€å¾®æœåŠ¡æ¶æ„å¼€å‘çš„å•†åŸç³»ç»Ÿ,é¡¹ç›®ä¸»è¦æœ‰å‡ å¤§æ¨¡å—ï¼Œåˆ†åˆ«æ˜¯ï¼šåå°ç³»ç»Ÿæ¨¡å—ã€å¼‚æ­¥æ¨¡å—ã€
   äººå·¥å®¢æœæ¨¡å—ã€ç½‘å…³æ¨¡å—ã€æ—¥å¿—æ¨¡å—ã€åº”ç”¨ç›‘æ§æ¨¡å—ã€è®¢å•æ¨¡å—ã€å•†å“æ¨¡å—ã€æœç´¢æ¨¡å—ã€ç§’æ€æ¨¡å—ã€ç³»ç»Ÿæ¨¡å—ã€å‰å°æ¨¡å—ï¼Œ
   å‡ ä¹å®ç°äº†ä¸­å°å‹å…¬å¸å•†åŸé¡¹ç›®çš„å¤§éƒ¨åˆ†åŠŸèƒ½,
   ä½œè€…å‰æœŸæ³¨é‡åŠŸèƒ½çš„å®ç°ï¼ŒåæœŸä½œè€…å°†å…¨å¿ƒæŠ•å…¥åˆ°æ€§èƒ½ä¼˜åŒ–ä»¥åŠå®‰å…¨æ–¹é¢ä¸Šçš„ä¼˜åŒ–,
   å¸Œæœ›æœªæ¥çš„æŸä¸€å¤©èƒ½å¤ŸæŠŠcloud-mallæ‰“é€ æˆä¸€ä¸ªèƒ½å¤ŸæŠ—ä½é«˜çš„å¹¶å‘é‡çš„å•†åŸç³»ç»Ÿã€‚
</p>

<p align=center>
<img src="https://img.shields.io/badge/JDK-1.8+-green.svg"/>
<img src="https://img.shields.io/badge/springboot-2.3.2.RELEASE-green"/>
<img src="https://img.shields.io/badge/SpringCloud-Hoxton.SR8-brightgreen"/>
<img src="https://img.shields.io/badge/SpringCloud alibaba-2.2.3.RELEASE-brightgreen"/>
</p>

## cloud-mallçš„æ¶æ„å›¾

![cloud-mall-jiagou.png](https://gitee.com/youzhengjie/cloud-mall/raw/master/cloud-mall-doc/images/cloud-mall-jiagou.png)

### å¼€å‘ç¯å¢ƒ

| ç±»åˆ«                |   åç§°     |   
| -----------------   | -------  |
| ç¼–è¯‘å™¨          |    IntelliJ IDEA 2019.3   |
| ç³»ç»Ÿ1             |   Windows 11 devç‰ˆ   |
| ç³»ç»Ÿ2               |   CentOS 7   |
| CPU              |    Intel i5-9300H   |
| å†…å­˜                |    24GB         |

* æ³¨ï¼šç‰¹åˆ«æ˜¯å†…å­˜éœ€è¦>=16GBæ‰èƒ½ä¿è¯æµç•…è¿è¡Œ,å¦‚æœä¸è¶³16GBè¿è¡Œå°†æœ‰ç‚¹å›°éš¾


### ç‰ˆæœ¬å¯¹åº”
| åç§°                | ç‰ˆæœ¬    |
| -------------      | -------------  |
| Spring Boot             | 2.3.2.RELEASE      | 
| Spring Cloud            | Hoxton.SR8      | 
| Spring Cloud Alibaba    | 2.2.3.RELEASE   |
| Nacos                  | 1.4.1      |
| Sentinel               | 1.8.0     |
| Seata                  | 1.3.0      |    
| ZipKin                |  2.12.9       |
| elasticSearch         |  7.6.1             |
| Kibana               |   7.6.1         |
| MySQL                  |  5.7            |

* å‰©ä¸‹çš„ç‰ˆæœ¬å¯ä»¥éšæ„ï¼Œä¸Šé¢å†™å‡ºæ¥çš„ç‰ˆæœ¬è¦ä¸¥æ ¼å¯¹åº”ï¼Œä¸ç„¶æ€•ä¼šå‡ºç°å…¼å®¹æ€§é—®é¢˜ï¼ï¼ï¼

### æŠ€æœ¯æ ˆ
#### åç«¯

| åç§°                | å®˜ç½‘                                                         |
| -----------------   | ------------------------------------------------------------ |
| Spring Boot             | https://spring.io/projects/spring-boot               | 
| Spring Cloud        |     https://spring.io/projects/spring-cloud                    |
| Spring Cloud Alibaba     |  https://spring.io/projects/spring-cloud-alibaba                       |
| Nacos      |     https://nacos.io/zh-cn/                    |
| Seata        |   http://seata.io/zh-cn/                      |
| Sentinel     |   https://github.com/alibaba/Sentinel                      |
| ZipKin            |    https://zipkin.io/                                            |
| Redis             | http://www.redis.cn/               | 
| RabbitMQ                   |  https://www.rabbitmq.com/                                  |
| elasticSearch           |    https://www.elastic.co/cn/elasticsearch/                  |
| Kibana               |   https://www.elastic.co/cn/kibana/        |
| MyBatis             | http://www.mybatis.org/mybatis-3/zh/index.html               |         
| Spring Security        | https://spring.io/projects/spring-security/                                   |
| PageHelper         | http://git.oschina.net/free/Mybatis_PageHelper               |
| Maven              | http://maven.apache.org/                                     |
| MySQL              | https://www.mysql.com/                                       |                                  |
| Swagger2                  | https://swagger.io/               |
| Druid                       |    https://github.com/alibaba/druid                    |
| fastjson                          |   https://github.com/alibaba/fastjson/                |
| sjf4j                     |   http://www.slf4j.org/  |
| Nginx                       |     http://nginx.org/en/download.html               |
| FastDFS                       |     https://github.com/happyfish100/fastdfs          |
#### å‰ç«¯

| åç§°            | æè¿°       | å®˜ç½‘                                                     |
| --------------- | ---------- | -------------------------------------------------------- |
| jQuery          | å‡½æ•°åº“     | http://jquery.com/                                       |
| Bootstrap       | å‰ç«¯æ¡†æ¶   | https://v3.bootcss.com/                                |
| echarts         | å¯è§†åŒ–å›¾è¡¨åº“       | https://echarts.apache.org/zh/index.html        |                        |                             |
| Thymeleaf     | æ¨¡æ¿å¼•æ“                | https://www.thymeleaf.org/      |
| TinyMCE        |  å¯Œæ–‡æœ¬ç¼–è¾‘å™¨         |  http://tinymce.ax-z.cn/  |
| layui           | æ¨¡å—åŒ–å‰ç«¯UIæ¡†æ¶        | https://www.layui.com/         |
| Angular        |   åº”ç”¨è®¾è®¡æ¡†æ¶ä¸å¼€å‘å¹³å°    | https://angular.cn/        |

#### ç§’æ€æ¥å£å‹æµ‹
> 8000ä¸ªçº¿ç¨‹å¹¶å‘å‹æµ‹ç§’æ€æ¥å£,æ²¡æœ‰å‘ç”Ÿé«˜å¹¶å‘ä¸‹çš„è¶…å–é—®é¢˜ï¼Œæ•°æ®å’Œç¼“å­˜éƒ½ä¿æŒäº†ä¸€è‡´æ€§
![miaoshajiekou.png](https://gitee.com/youzhengjie/cloud-mall/raw/master/cloud-mall-doc/images/miaoshayace.png)


#### æ€ä¹ˆå®‰è£…cloud-mall

* é…ç½®æ•°æ®åº“
* æ‰“å¼€cloud-mall-docæ¨¡å—ï¼Œé‡Œé¢æœ‰ä¸ªâ€œsqlâ€æ–‡ä»¶å¤¹ï¼Œå¯¼å…¥åˆ°è‡ªå·±çš„Navicatå³å¯

* é…ç½®Nacosã€seataã€sentinel
* cloud-mall-docæ¨¡å—ä¸­Nacos1.4.1ã€seata1.3.0ã€sentinel1.8.0å¯¼å…¥åˆ°è‡ªå·±ç”µè„‘å³å¯ï¼Œæœ€å¥½ä¸è¦ä½¿ç”¨è‡ªå·±çš„
* å› ä¸ºè¿™äº›è½¯ä»¶éƒ½æ˜¯ä½œè€…å¼€å‘ç³»ç»Ÿæ—¶ç”¨çš„ï¼Œæ²¡ä»€ä¹ˆä½¿ç”¨ä¸Šçš„é—®é¢˜ï¼Œæ¯”å¦‚sentinelæ˜¯ä¿®æ”¹è¿‡æºç é‡æ–°æ‰“çš„jaråŒ…

* é…ç½®zipkin
* è¿™ä¸ªå°±éšä¾¿å§ï¼Œæ²¡å•¥éœ€è¦æ³¨æ„çš„

* é…ç½®Nginxåå‘ä»£ç†æœåŠ¡å™¨
```text
worker_processes  2;
worker_rlimit_nofile 10240;
events {
    worker_connections  10240;
	
}

http {
    include       mime.types;
    default_type  application/octet-stream;
    sendfile        on;
	
	server_tokens off;
     client_max_body_size    100m;
    #tcp_nopush     on;
    #keepalive_timeout  0;
     keepalive_timeout  65;
	client_header_buffer_size 4k;
	open_file_cache max=10240 inactive=20s;
	open_file_cache_valid 30s;
	open_file_cache_min_uses 1;
    #gzip  on;
     gzip  on; 
     gzip_http_version 1.1; 
     gzip_vary on; 
     gzip_comp_level 6; 
     gzip_proxied any; 
     gzip_types text/plain text/css application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript application/x-httpd-php image/jpeg image/gif image/png; 
     gzip_buffers 16 8k; 
     gzip_disable "MSIE [1-6]\.";
	fastcgi_connect_timeout 300;
	fastcgi_send_timeout 300;
	fastcgi_read_timeout 300;
	fastcgi_buffer_size 64k;
	fastcgi_buffers 4 64k;
	fastcgi_busy_buffers_size 128k;
	fastcgi_temp_file_write_size 128k;
	

	upstream cloudmall.index.cn{
		server localhost:3201 weight=1;
	}
	
	#cloud-mallçš„webæ¨¡å—
    server {
        listen       80;
        server_name  localhost;
		
        location / {
            root   html;
            index  index.html index.htm;
			proxy_pass http://cloudmall.index.cn;
        }      
        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   html;
        }
    
    }
 	
}
```

### å®‰è£…FastDFSåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ
* ç”±äºåæœŸé‡‡ç”¨é˜¿é‡Œäº‘+FastDFSæ¥è¿›è¡Œå­˜å‚¨å›¾ç‰‡æ–‡ä»¶ï¼Œæ‰€ä»¥å®‰è£…cloud-mallå¿…é¡»å®‰è£…FastDFSï¼Œä½œè€…å®‰è£…æ•™ç¨‹å¦‚ä¸‹ï¼š

```shell script
   docker search fastdfs
   docker pull delron/fastdfs
   docker images
   docker run -dti --network=host --name tracker -v /var/fdfs/tracker:/var/fdfs -v /etc/localtime:/etc/localtime delron/fastdfs tracker
   docker run -dti  --network=host --name storage -e TRACKER_SERVER=192.168.184.132:22122 -v /var/fdfs/storage:/var/fdfs  -v /etc/localtime:/etc/localtime  delron/fastdfs storage
   docker ps #æŸ¥çœ‹å®¹å™¨id
   sudo docker exec -it å®¹å™¨id /bin/bash
  #ä¸‹é¢è¿™ä¸¤è¡Œå‘½ä»¤å¯ä»¥ä¸å†™ï¼Œå°±é»˜è®¤é…ç½®
   vi /etc/fdfs/storage.conf
   vi /usr/local/nginx/conf/nginx.conf
   
   firewall-cmd --zone=public  --permanent --add-port=8888/tcp
   firewall-cmd --zone=public  --permanent --add-port=22122/tcp
   firewall-cmd --zone=public  --permanent --add-port=23000/tcp
   
    #é‡å¯
   systemctl restart firewalld

    #è‡ªå¯åŠ¨
   docker update --restart=always tracker
   docker update --restart=always storage

  ```

##### ç¬¬ä¸‰æ–¹ç™»å½•
###### gitee
* æ¥å…¥giteeç¬¬ä¸‰æ–¹æˆæƒé…ç½®,å…ˆåœ¨giteeçš„ç¬¬ä¸‰æ–¹åº”ç”¨ä¸Šå¯¹ç½‘ç«™è¿›è¡Œæˆæƒï¼Œè·å¾—Client IDå’ŒClient Secretå’Œå›è°ƒåœ°å€,å¹¶æ”¾åˆ°cloud-mall-webæ¨¡å—çš„application.ymlä¸­å³å¯

###### GitHub
* GitHubç¬¬ä¸‰æ–¹é…ç½®æœ‰ç‚¹å¤æ‚ï¼Œä¹Ÿå¼„äº†ä¸€ä¸¤å¤©ï¼Œä¸»è¦è¿˜æ˜¯GitHubä¸­å›½åœ°åŒºç™»å½•å¾ˆæ…¢
* æˆ‘ä»¬åªéœ€è¦æŠŠcloud-mall-commonsæ¨¡å—ä¸­çš„com.boot.GitHubConstantçš„CLIENT_IDå’ŒCLIENT_SECRETæ¢æˆè‡ªå·±çš„
* ç„¶ååœ¨login.htmlçš„GitHubç¬¬ä¸‰æ–¹ç™»å½•è¶…é“¾æ¥ä¸­client_id=xxxæ¢æˆè‡ªå·±çš„idï¼Œå³å¯


### äººå·¥å®¢æœè¡¨æƒ…æ’ä»¶é…ç½®
* å¾€EmojiPropertiesé…ç½®ç±»é‡Œé¢çš„emojiMapä»¥keyä¸ºemojiå­—ç¬¦/ä»£å·ï¼Œvalueä¸ºå¯¹åº”svgçš„æ ¼å¼æ·»åŠ é…ç½®,
* å†ä¿®æ”¹chat.htmlå¼•å…¥icon.jsåœ°å€å³å¯æ¨ªå‘æ‰©å±•è¡¨æƒ…åŒ…çš„é…ç½®.

### è¿è§„è¯é…ç½®
* åªéœ€è¦åœ¨cloud-mall-chatæ¨¡å—ä¸‹çš„badWord.propertiesé‡Œé¢é…ç½®è¿è§„è¯å³å¯


### å›¾ç‰‡æ¼”ç¤º
![01.png](https://gitee.com/youzhengjie/cloud-mall/raw/master/cloud-mall-doc/images/01.png)
![02.png](https://gitee.com/youzhengjie/cloud-mall/raw/master/cloud-mall-doc/images/02.png)
![03.png](https://gitee.com/youzhengjie/cloud-mall/raw/master/cloud-mall-doc/images/03.png)
![04.png](https://gitee.com/youzhengjie/cloud-mall/raw/master/cloud-mall-doc/images/04.png)
![05.png](https://gitee.com/youzhengjie/cloud-mall/raw/master/cloud-mall-doc/images/05.png)
![06.png](https://gitee.com/youzhengjie/cloud-mall/raw/master/cloud-mall-doc/images/06.png)
![07.png](https://gitee.com/youzhengjie/cloud-mall/raw/master/cloud-mall-doc/images/07.png)
![08.png](https://gitee.com/youzhengjie/cloud-mall/raw/master/cloud-mall-doc/images/08.png)
![09.png](https://gitee.com/youzhengjie/cloud-mall/raw/master/cloud-mall-doc/images/09.png)
![10.png](https://gitee.com/youzhengjie/cloud-mall/raw/master/cloud-mall-doc/images/10.png)
![11.png](https://gitee.com/youzhengjie/cloud-mall/raw/master/cloud-mall-doc/images/11.png)
![12.png](https://gitee.com/youzhengjie/cloud-mall/raw/master/cloud-mall-doc/images/12.png)
![13.png](https://gitee.com/youzhengjie/cloud-mall/raw/master/cloud-mall-doc/images/13.png)
![14.png](https://gitee.com/youzhengjie/cloud-mall/raw/master/cloud-mall-doc/images/14.png)
![15.png](https://gitee.com/youzhengjie/cloud-mall/raw/master/cloud-mall-doc/images/15.png)
![16.png](https://gitee.com/youzhengjie/cloud-mall/raw/master/cloud-mall-doc/images/16.png)
äººå·¥å®¢æœ-å®¢æœè§†è§’ğŸ‘‡
![kefu_view.png](https://gitee.com/youzhengjie/cloud-mall/raw/master/cloud-mall-doc/images/kefu_view.png)
äººå·¥å®¢æœ-ç”¨æˆ·è§†è§’ğŸ‘‡
![user_view.png](https://gitee.com/youzhengjie/cloud-mall/raw/master/cloud-mall-doc/images/user_view.png)
è¡¨æƒ…åŒ…æ’ä»¶é…ç½®ğŸ‘‡
![emoji_config.png](https://gitee.com/youzhengjie/cloud-mall/raw/master/cloud-mall-doc/images/emoji_config.png)
